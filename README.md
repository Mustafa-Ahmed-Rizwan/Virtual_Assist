# Arena2036 Virtual Assistant

This project is a virtual assistant for Arena2036, providing a web-based interface to answer queries about Arena2036 using a FastAPI backend, a vector database for document retrieval, and a frontend built with HTML, CSS, and JavaScript. The assistant leverages a language model (LLM) and a vector store to provide accurate and context-aware responses, with features like autocomplete suggestions, related questions, and source linking.

## Project Structure

- **Backend**:
  - `scrape_arena_en.py`: Scrapes English content from `arena2036.de` and saves it to `arena_data_en.jsonl`.
  - `create_vectorstore_en.py`: Processes the scraped data and creates a Chroma vector database.
  - `main.py`: FastAPI application serving the virtual assistant API.
  - `trie_utils.py`: Implements a Trie-based autocomplete system for suggestions.
- **Frontend**:
  - `index.html`: Main HTML file for the user interface.
  - `styles.css`: Styles for the frontend interface.
  - `script.js`: JavaScript for frontend interactivity, including fetching answers and rendering suggestions.
-

## Prerequisites

- **Python**: Version 3.8 or higher.
- **uv**: A Python project manager for managing virtual environments and dependencies.
- **Git**: For cloning the repository.
- **Internet Connection**: Required for fetching external resources and running the API.

## Setup Instructions (Using uv)

Follow these steps to set up and run the project:

1. **Clone the Repository**
   ```bash
   git clone https://github.com/your-username/your-project.git
   cd your-project
   ```

2. **Install uv (Optional)**
   If `uv` is not already installed, install it using pip:
   ```bash
   pip install uv
   ```

3. **Create and Activate a Virtual Environment**
   Create a virtual environment using `uv` and activate it:
   ```bash
   uv venv
   source .venv/bin/activate  # On Windows: .venv\Scripts\activate
   ```

4. **Install Dependencies**
   Sync the dependencies from the `uv.lock` file:
   ```bash
   uv sync
   ```

5. **Set Up Environment Variables**
   Create a `.env` file in the project root and add your Groq API key:
   ```bash
   echo "GROQ_API_KEY=your-groq-api-key" > .env
   ```
   Replace `your-groq-api-key` with your actual Groq API key. Obtain one from [https://console.groq.com/](https://console.groq.com/) if needed.

6. **Create the Vector Database**
   Run the script to process scraped data and create the Chroma vector database:
   ```bash
   python create_vectorstore_en.py
   ```

7. **Run the Application**
   The project consists of a frontend and a backend, which need to be run in separate terminals.

   **Backend**:
   Open a terminal, navigate to the project root, and start the FastAPI server:
   ```bash
   python main.py
   ```
   The backend will run on `http://localhost:8000`.

   **Frontend**:
   Open another terminal, navigate to the frontend directory (if applicable, or stay in the project root if `index.html` is there), and start a simple HTTP server:
   ```bash
   cd frontend  # If your frontend files are in a 'frontend' directory; skip if in root
   python -m http.server 8080
   ```
   The frontend will be accessible at `http://localhost:8080`.

8. **Access the Application**
   Open your browser and navigate to `http://localhost:8080` to use the Arena2036 Virtual Assistant.

## Usage

- **Search**: Enter a query in the search bar to get answers about Arena2036. Use the arrow keys to navigate autocomplete suggestions, and press Enter to select a suggestion or submit a query.
- **Quick Help**: Click on suggested questions in the "Quick Help" section to get instant answers.
- **Related Questions**: After receiving an answer, explore related questions to dive deeper into the topic.
- **Sources**: Answers include links to relevant sources from `arena2036.de` when available.
- **Feedback**: Use the thumbs-up or thumbs-down buttons to provide feedback on answer quality.

## Notes

- The `uv.lock` file ensures reproducible dependency installations. Ensure it is committed to the repository.
- The `arena_data_en.jsonl` file is generated by running `scrape_arena_en.py`. If you need to re-scrape data, run:
  ```bash
  python scrape_arena_en.py
  ```
  Then, recreate the vector database with `create_vectorstore_en.py`.
- The backend requires a valid Groq API key in the `.env` file.
- The frontend uses a simple HTTP server for development. For production, consider a more robust server setup.

## Troubleshooting

- **Dependency Issues**: Ensure `uv sync` completes successfully. If errors occur, check the `uv.lock` file or regenerate it with `uv lock`.
- **API Errors**: Verify the Groq API key is correct and that the server is running at `http://localhost:8000`.
- **Frontend Not Loading**: Ensure you are running the HTTP server in the correct directory containing `index.html`.
- **Vector Database Issues**: If the vector store fails to load, re-run `python create_vectorstore_en.py`.

## Contributing

Contributions are welcome! Please fork the repository, create a branch, and submit a pull request with your changes.

## License

This project is licensed under the MIT License. See the [LICENSE](LICENSE) file for details.